---
permalink: online-help-96-97/task_configuring_managing_cloud_tiers.html 
sidebar: sidebar 
keywords: configure, manage, cloud, tier, online, help, fabricpool, aggregate, storage, system, add, ssd, provision, storage, fabricpool, aggregate, manually, tiering, policy 
summary: 데이터를 계층에 저장하면 스토리지 시스템의 효율성이 향상됩니다. FabricPool 지원 애그리게이트를 사용하여 스토리지 계층을 관리할 수 있습니다. 클라우드 계층은 데이터 액세스 빈도 여부에 따라 데이터를 계층에 저장합니다. 
---
= System Manager - ONTAP 9.7 이하를 사용하여 클라우드 계층을 구성 및 관리합니다
:allow-uri-read: 


ONTAP System Manger Classic(ONTAP 9.7 이하에서 사용 가능)을 사용하여 클라우드 계층을 구성 및 관리할 수 있습니다. 데이터를 계층에 저장하면 스토리지 시스템의 효율성이 향상됩니다. FabricPool 지원 애그리게이트를 사용하여 스토리지 계층을 관리할 수 있습니다. 클라우드 계층은 데이터 액세스 빈도 여부에 따라 데이터를 계층에 저장합니다.

.시작하기 전에
* ONTAP 9.2 이상을 실행해야 합니다.
* 모든 플래시(All SSD) 애그리게이트가 있어야 합니다


image::../media/fabricpool_workflow.gif[FabricPool 워크플로]



= 클라우드 계층 추가

[role="lead"]
System Manager를 사용하여 SSD 애그리게이트 또는 VMDK(가상 머신 디스크) 애그리게이트에 클라우드 계층을 추가할 수 있습니다. 클라우드 계층은 자주 사용하지 않는 데이터에 대한 스토리지를 제공합니다.

.시작하기 전에
* 객체 저장소에 연결하려면 액세스 키 ID와 암호 키가 있어야 합니다.
* 오브젝트 저장소 내에 버킷을 만들어야 합니다.
* 클러스터와 클라우드 계층 간에는 네트워크 연결이 있어야 합니다.
* 클라우드 계층과 클러스터 간의 통신이 SSL 또는 TLS를 사용하여 암호화된 경우 필요한 인증서를 설치해야 합니다.


.이 작업에 대해
다음 오브젝트 저장소를 클라우드 계층으로 사용할 수 있습니다.

* StorageGRID
* Alibaba Cloud(System Manager 9.6부터 시작)
* AWS(Amazon Web Services) S3(Simple Storage Service)
* AWS(Amazon Web Services) C2S(Commercial Cloud Service)
* Microsoft Azure Blob 저장소
* IBM 클라우드
* Google 클라우드


[NOTE]
====
* 온프레미스 Azure 서비스인 Azure Stack은 지원되지 않습니다.
* StorageGRID 이외의 클라우드 계층으로 오브젝트 저장소를 사용하려면 FabricPool 용량 라이센스가 있어야 합니다. 라이선스 추가 * 를 클릭하여 라이선스를 추가할 수 있습니다.
* IBM 클라우드 오브젝트 스토리지 환경(Cleversafe 등)을 FabricPool와 함께 사용하려면 CA(인증 기관) 인증서를 지정해야 합니다. Object Store Certificate * 전환 버튼을 이동하고 인증서 자격 증명을 지정하여 CA 인증서를 지정할 수 있습니다.


====
.단계
. 스토리지 * > * 애그리게이트 및 디스크 * > * 클라우드 계층 * 을 클릭합니다.
. 추가 * 를 클릭합니다.
+
지원되는 모든 개체 저장소 공급자를 나열하는 대화 상자가 나타납니다.

. 목록에서 클라우드 계층으로 지정할 오브젝트 저장소 공급자를 선택합니다.
+
Add Cloud Tier 창이 표시됩니다.

. Region * (지역 *) 필드의 드롭다운 목록에서 영역을 선택합니다.
+
선택에 따라 * 서비스 이름(FQDN) * 필드가 자동으로 서버 끝점으로 채워집니다.

. 클라우드 계층의 액세스 키 ID, 클라우드 계층의 비밀 키 및 컨테이너 이름을 지정합니다.
+
AWS C2S(Commercial Cloud Service)를 유형으로 선택한 경우 CAP URL, 서버 CA 인증서, 클라이언트 인증서를 지정해야 합니다.

. 다음 설정을 수정하려면 고급 옵션 아이콘을 클릭합니다 image:../media/advanced_options.gif[""] 변경 사항을 적용할 수 있는 * 고급 옵션 * 대화 상자 창을 표시하려면:
+
** 클라우드 계층에 액세스하는 데 사용되는 포트 번호입니다
** 클라우드 계층으로 데이터를 안전하게 전송할 수 있는 * SSL * 옵션을 활성화 또는 비활성화합니다


. * 선택 사항: * StorageGRID에 대한 클라우드 계층을 추가하거나 FabricPool에 IBM 클라우드 오브젝트 스토리지 환경(Cleversafe 등)을 사용하려면 CA 인증서를 지정해야 합니다. Object Store Certificate * 전환 버튼을 이동하고 인증서 내용을 복사하여 CA 인증서를 지정합니다. 그런 다음 서명된 인증서에 인증서 내용을 붙여 넣습니다.
. IPspace * 목록에서 클라우드 계층에 연결하는 데 사용되는 IPspace를 선택합니다.
. 클라우드 계층을 저장하려면 * 저장 * 을 클릭합니다.
. Save and Attach Aggregate * 를 클릭하여 클라우드 계층을 저장하고 애그리게이트를 클라우드 계층에 연결합니다.




== 클라우드 계층에 애그리게이트 연결

System Manager를 사용하여 All-Flash 애그리게이트를 클라우드 계층에 연결할 수 있습니다. 자주 사용하지 않는 데이터는 클라우드 계층에 저장할 수 있습니다.

.시작하기 전에
클러스터에 클라우드 계층을 추가해야 합니다.

.단계
. 스토리지 * > * 애그리게이트 및 디스크 * > * 클라우드 계층 * 을 클릭합니다.
. Aggregate * 열에 사용된 * 열에서 * 애그리게이트 첨부 * 를 클릭합니다.
+
Attach aggregate(애그리게이트 연결) 창이 표시됩니다.

. 클라우드 계층에 연결할 애그리게이트를 선택합니다.
. 저장 * 을 클릭합니다.




== FabricPool 지원 애그리게이트를 수동으로 생성하여 스토리지 프로비저닝

System Manager를 사용하면 FabricPool 지원 애그리게이트를 생성하여 클라우드 계층을 SSD 애그리게이트에 연결할 수 있습니다.

.시작하기 전에
* 클라우드 계층을 생성하여 SSD 애그리게이트로 구성된 클러스터에 연결해야 합니다.
* 사내 클라우드 계층이 생성되었어야 합니다.
* 클라우드 계층과 애그리게이트 간에는 전용 네트워크 연결이 있어야 합니다.


.이 작업에 대해
다음 오브젝트 저장소를 클라우드 계층으로 사용할 수 있습니다.

* StorageGRID
* Alibaba Cloud(System Manager 9.6부터 시작)
* AWS(Amazon Web Services) S3(Simple Storage Service)
* AWS(Amazon Web Services) C2S(Commercial Cloud Service)
* Microsoft Azure Blob 저장소
* IBM 클라우드
* Google 클라우드


[NOTE]
====
* 온프레미스 Azure 서비스인 Azure Stack은 지원되지 않습니다.
* StorageGRID 이외의 클라우드 계층으로 오브젝트 저장소를 사용하려면 FabricPool 용량 라이센스가 있어야 합니다.


====
.단계
. 다음 방법 중 하나를 사용하여 FabricPool 지원 애그리게이트를 만들 수 있습니다.
+
** Applications & Tiers * > * Storage Tiers * > * Add Aggregate * 를 클릭합니다.
** 스토리지 * > * 집계 및 디스크 * > * 집계 * > * 생성 * 을 클릭합니다.


. Aggregate를 생성하려면 * Manually Create Aggregate * 옵션을 활성화합니다.
. FabricPool 지원 애그리게이트 생성:
+
.. Aggregate 이름, 디스크 유형 및 Aggregate에 포함할 디스크 또는 파티션의 수를 지정합니다.
+
[NOTE]
====
All-Flash(All SSD) 애그리게이트만 FabricPool 지원 애그리게이트를 지원합니다.

====
+
최소 핫 스페어 규칙은 디스크 크기가 가장 큰 디스크 그룹에 적용됩니다.

.. * 선택 사항: * 애그리게이트의 RAID 구성을 수정합니다.
+
... 변경 * 을 클릭합니다.
... RAID 구성 변경 대화 상자에서 RAID 유형과 RAID 그룹 크기를 지정합니다.
+
공유 디스크는 RAID-DP와 RAID-TEC의 두 가지 RAID 유형을 지원합니다.

... 저장 * 을 클릭합니다.




. FabricPool * 확인란을 선택한 다음 목록에서 클라우드 계층을 선택합니다.
. Create * 를 클릭합니다.




== 볼륨의 계층화 정책을 변경합니다

System Manager를 사용하면 데이터가 비활성 상태가 될 때 볼륨 데이터가 클라우드 계층으로 이동되는지 여부를 제어하기 위해 볼륨의 기본 계층화 정책을 변경할 수 있습니다.

.단계
. 스토리지 * > * 볼륨 * 을 클릭합니다.
. SVM * 필드의 드롭다운 메뉴에서 * 모든 SVM * 을 선택합니다.
. 계층화 정책을 변경할 볼륨을 선택한 다음 * 추가 작업 * > * 계층화 정책 변경 * 을 클릭합니다.
. 계층화 정책 * 목록에서 필요한 계층화 정책을 선택한 다음 * 저장 * 을 클릭합니다.




== 클라우드 계층을 편집합니다

System Manager를 사용하여 클라우드 계층의 구성 정보를 수정할 수 있습니다. 편집할 수 있는 구성 세부 정보에는 이름, FQDN(정규화된 도메인 이름), 포트, 액세스 키 ID, 비밀 키 및 개체 저장소 인증서가 포함됩니다.

.단계
. 스토리지 * > * 애그리게이트 및 디스크 * > * 클라우드 계층 * 을 클릭합니다.
. 편집할 클라우드 계층을 선택한 다음 * 편집 * 을 클릭합니다.
. Edit Cloud Tier * 창에서 클라우드 계층 이름, FQDN, 포트, 액세스 키 ID, 비밀 키를 수정합니다. 및 오브젝트 저장소 인증서를 제공합니다.
+
AWS C2S(Commercial Cloud Service) 클라우드 계층을 선택한 경우 서버 CA 인증서 및 클라이언트 인증서를 수정할 수 있습니다.

. 저장 * 을 클릭합니다.




== 클라우드 계층을 삭제합니다

System Manager를 사용하면 더 이상 필요하지 않은 클라우드 계층을 삭제할 수 있습니다.

.시작하기 전에
클라우드 계층과 연결된 FabricPool 지원 애그리게이트를 삭제해야 합니다.

.단계
. 스토리지 * > * 애그리게이트 및 디스크 * > * 클라우드 계층 * 을 클릭합니다.
. 삭제할 클라우드 계층을 선택한 다음 * 삭제 * 를 클릭합니다.




== 어떤 클라우드 계층 및 계층화 정책인지 설명합니다

클라우드 계층은 자주 액세스하지 않는 데이터를 위한 스토리지를 제공합니다. 자주 사용하지 않는 데이터를 저장하기 위해 All-Flash(All-SSD) 애그리게이트를 클라우드 계층에 연결할 수 있습니다. 계층화 정책을 사용하여 데이터를 클라우드 계층으로 이동해야 하는지 결정할 수 있습니다.

볼륨에 대해 다음 계층화 정책 중 하나를 설정할 수 있습니다.

* * 스냅샷 전용 *
+
현재 액티브 파일 시스템에서 참조하고 있지 않은 볼륨의 스냅샷 복사본만 이동합니다. 스냅샷 전용 정책은 기본 계층화 정책입니다.

* * 자동 *
+
비활성(콜드) 데이터 및 스냅샷 복사본을 액티브 파일 시스템에서 클라우드 계층으로 이동합니다.

* * 백업(System Manager 9.5용) *
+
데이터 보호(DP) 볼륨의 새로 전송된 데이터를 클라우드 계층으로 이동합니다.

* * 모두(System Manager 9.6부터) *
+
모든 데이터를 클라우드 계층으로 이동합니다.

* * 없음 *
+
볼륨의 데이터가 클라우드 계층으로 이동하는 것을 방지합니다.





== 비활성(콜드) 데이터는 무엇입니까

성능 계층에서 자주 액세스하지 않는 데이터를 비활성(콜드) 데이터라고 합니다. 기본적으로 31일 동안 액세스하지 않는 데이터는 비활성화됩니다.

비활성 데이터는 애그리게이트 레벨, 클러스터 레벨 및 볼륨 레벨에 표시됩니다. 애그리게이트 또는 클러스터에 대한 비활성 데이터는 해당 애그리게이트 또는 클러스터에서 비활성 스캔이 완료된 경우에만 표시됩니다. 기본적으로 FabricPool 지원 애그리게이트 및 SSD 애그리게이트에 대해 비활성 데이터가 표시됩니다. FlexGroups에 대한 비활성 데이터가 표시되지 않습니다.



== Cloud Tier 창

System Manager를 사용하여 클라우드 계층을 추가, 편집, 삭제하고 클라우드 계층 세부 정보를 볼 수 있습니다.

클라우드 계층 창에는 클러스터에 있는 라이센스가 부여된 총 클라우드 계층 수, 클러스터에 사용된 라이센스 공간 및 클러스터에서 사용 가능한 라이센스 공간이 표시됩니다. Cloud Tier 창에는 사용 중인 라이센스가 없는 클라우드 용량도 표시됩니다.



=== 명령 버튼

* * 추가 *
+
클라우드 계층을 추가할 수 있습니다.

* * 애그리게이트 연결 *
+
애그리게이트를 클라우드 계층에 연결할 수 있습니다.

* * 삭제 *
+
선택한 클라우드 계층을 삭제할 수 있습니다.

* * 편집 *
+
선택한 클라우드 계층의 속성을 수정할 수 있습니다.





=== 세부 정보 영역

클라우드 계층 목록, 오브젝트 저장소 세부 정보, 사용된 애그리게이트, 사용된 용량 등 클라우드 계층에 대한 자세한 정보를 볼 수 있습니다.

Alibaba Cloud, Amazon AWS S3, AWS C2S(Commercial Cloud Service), Google Cloud, IBM Cloud, Microsoft Azure Blob 스토리지 또는 StorageGRID를 CLI(명령줄 인터페이스)를 사용하여 클라우드 계층을 생성하는 경우 이 클라우드 계층은 System Manager에 다른 계층으로 표시됩니다. 그런 다음 이 클라우드 계층에 애그리게이트를 연결할 수 있습니다.

* 관련 정보 *

xref:task_installing_ca_certificate_if_you_use_storagegrid_webscale.adoc[StorageGRID를 사용하는 경우 CA 인증서 설치]

xref:reference_storage_tiers_window.adoc[Storage Tiers 창]
